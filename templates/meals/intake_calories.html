{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
    <h2 class="text-center">Intake Calories</h2>

    <form method="post" class="mt-4">
        {% csrf_token %}

        <div class="card p-4 shadow-sm">
            <h5>Breakfast Items</h5>
            {% for meal in breakfast_items %}
                <div>
                    <input type="checkbox" name="meal_items" value="{{ meal.id }}">
                    <label>{{ meal.meal_name }} - {{ meal.dv_calories }} kcal</label>
                </div>
            {% empty %}
                <p>No breakfast items available.</p>
            {% endfor %}
        </div>

        <div class="card p-4 shadow-sm mt-3">
            <h5>Lunch Items</h5>
            {% for meal in lunch_items %}
                <div>
                    <input type="checkbox" name="meal_items" value="{{ meal.id }}">
                    <label>{{ meal.meal_name }} - {{ meal.dv_calories }} kcal</label>
                </div>
            {% empty %}
                <p>No lunch items available.</p>
            {% endfor %}
        </div>

        <div class="card p-4 shadow-sm mt-3">
            <h5>Dinner Items</h5>
            {% for meal in dinner_items %}
                <div>
                    <input type="checkbox" name="meal_items" value="{{ meal.id }}">
                    <label>{{ meal.meal_name }} - {{ meal.dv_calories }} kcal</label>
                </div>
            {% empty %}
                <p>No dinner items available.</p>
            {% endfor %}
        </div>

        <div class="card p-4 shadow-sm mt-3">
            <h5>Snack Items</h5>
            {% for meal in snack_items %}
                <div>
                    <input type="checkbox" name="meal_items" value="{{ meal.id }}">
                    <label>{{ meal.meal_name }} - {{ meal.dv_calories }} kcal</label>
                </div>
            {% empty %}
                <p>No snack items available.</p>
            {% endfor %}
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-primary">Calculate</button>
        </div>
    </form>

    {% if total_calories %}
        <div class="alert alert-info mt-4">
            <strong>Total Calories:</strong> {{ total_calories }} kcal
        </div>
    {% endif %}
</div>

{% endblock content %}
